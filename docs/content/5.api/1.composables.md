---
title: Composables
description: API reference for client-side composables.
---

## useUserSession

The primary composable for accessing authentication state. Returns reactive user, session, and auth client.

```ts [pages/login.vue]
const { loggedIn, user, session, client, signIn, signOut } = useUserSession()
```

::field-group
  ::field{name="loggedIn" type="ComputedRef<boolean>"}
    `true` if the user is currently authenticated.
  ::
  ::field{name="user" type="Ref<AuthUser | null>"}
    The current user object, inferred from your config.
  ::
  ::field{name="session" type="Ref<AuthSession | null>"}
    The current session object.
  ::
  ::field{name="ready" type="ComputedRef<boolean>"}
    `true` when initial session resolution is complete (from SSR hydration or client fetch).
  ::
  ::field{name="client" type="AuthClient | null"}
    Direct access to the Better Auth client instance.
  ::
::

### Methods

#### `signIn`

Proxies Better Auth `signIn`.

```ts
await signIn.email({
  email: 'user@example.com',
  password: 'password'
})
```

### Promise Behavior

Methods like `signIn` return a promise that resolves when the **server responds**, not when local state updates.

```ts
// This awaits the server response
await client.signIn.email({ email, password })

// Local state updates asynchronously after
// Use onSuccess callback for actions that depend on updated state
await client.signIn.email(
  { email, password },
  { onSuccess: () => navigateTo('/dashboard') }
)
```

#### `signUp`

Proxies Better Auth `signUp` with the same `onSuccess` behavior as `signIn`.

```ts
await signUp.email({
  email: 'user@example.com',
  password: 'password'
})
```

#### `signOut`

Signs the user out and clears the local session state.

```ts
await signOut()
```

**Options**

```ts
await signOut({
  onSuccess: () => navigateTo('/'),
})
```

### `waitForSession()`

Waits for session state to be ready. Resolves when user is logged in or after 5 second timeout.

```ts
await waitForSession()
// Session is now ready (or timed out)
```

::tip
Use this when you need to ensure session state before proceeding. The function always resolves - it doesn't throw or return a value.
::

#### `fetchSession`

Manually triggers a session refresh. Useful if you've updated user data on the server via a side channel.

```ts
await fetchSession()
```

**Options**

```ts
await fetchSession({
  headers, // optional HeadersInit
  force: true, // disables Better Auth cookie cache for this fetch
})
```

#### `updateUser`

Updates the user on the server and optimistically patches local state. Local state reverts if the server call fails.

```ts
await updateUser({ name: 'New Name' })
```

::note
During SSR, `updateUser` only patches local state since no client is available.
::

::tip
**Reactivity**: `user` and `session` are global states using `useState`. Changes in one component are instantly reflected everywhere.
::

:read-more{to="/api/components" title="BetterAuthState component"}
